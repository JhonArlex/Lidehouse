<template name="Account_history">
    <div class="row">
        {{#if (or accountOptions accountSelected)}}
        <div class="col-sm-4">
            <div class="form-group">
                <label class="control-label" for="account">{{_ 'Account'}}</label>
                <select id="account" name="account" {{b 'options: accountOptions, value: accountSelected, optionsValue: value, optionsText: label'}} class="form-control"></select>
                <!--input type="text" id="account" name="account" {{b "value: account"}} class="form-control"-->
            </div>
        </div>
        {{/if}}
        {{#if (or localizerOptions localizerSelected)}}
        <div class="col-sm-4">
            <div class="form-group">
                <label class="control-label" for="localizer">{{_ 'parcel'}}</label>
                <select id="localizer" name="localizer" {{b 'options: localizerOptions, value: localizerSelected, optionsValue: value, optionsText: label'}} class="form-control"></select>
            </div>
        </div>
        {{/if}}
        <div class="col-sm-3">
            <div class="form-group">
                <label class="control-label" for="begin_date">{{_ 'Begin date'}}</label>
                <input type="date" id="begin_date" name="begin_date" {{b 'value: beginDate'}} class="form-control">
            </div>
        </div>
        <div class="col-sm-3">
            <div class="form-group">
                <label class="control-label" for="end_date">{{_ 'End date'}}</label>
                <input type="date" id="end_date" name="end_date" {{b 'value: endDate'}} class="form-control">
            </div>
        </div>
        <div class="col-sm-2">
            <div class="form-group">
                <label class="control-label" for="status">{{_ 'Status'}}</label>
                <select name="status" id="status" class="form-control">
                    <option value="0" selected="">{{_ 'All'}}</option>
                    <option value="1">{{_ 'Reconciled'}}</option>
                    <option value="2">{{_ 'Unreconciled'}}</option>
                </select>
            </div>
        </div>
    </div>

    <div class="table-responsive transactions">
        <table class="table table-striped">
            <tbody>
              <tr style="font-weight: bold">
                  <td>{{_ 'schemaTransactions.valueDate.label'}}</td>
                  <td>{{_ 'ContraAccount'}}</td>
                  <td>{{_ 'schemaTransactions.note.label'}}</td>
                  <td>{{_ 'schemaTransactions.amount.label'}}</td>
                  <!--td></td>
                  <td></td-->
                  <td>{{_ 'Balance'}}</td>
                  <td></td>
                  <td></td>
              </tr>
              {{#each entry in journalEntries}}
              <tr>
                  <td>{{displayDate entry.valueDate}}</td>
                  <td>{{{displayAccountSpecification entry.contra}}}</td>
                  <td>{{entry.note}}</td>
                  <td class="{{negativeClass entry}}">{{displayMoney (entry.effectiveAmount sign)}}</td>
                  <!--td>{{#if equals entry.side 'from'}} ({{entry.amount}}) {{else}} - {{/if}}</td>
                  <td>{{#if equals entry.side 'to'}} {{entry.amount}} {{else}} - {{/if}}</td-->
                  <td><strong>{{displayMoney entry.total}}</strong></td>
                  <td><button class="btn btn-white btn-xs js-view" data-id="{{entry.txId}}"><i class="fa fa-eye"></i></button></td>
                  <td>{{{checkmarkBoolean entry.transaction.reconciledId}}}</td>
              </tr>
              {{/each}}
            </tbody>
        </table>
    </div>
    <p class="text-center">{{_ 'Total change in this period'}}: <strong>{{displayMoney journalEntries.pop.total}}</strong></p>
</template>
