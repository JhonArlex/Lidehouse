<template name="Document_store">
  <div class="content-scrollable wrapper-form page-content autoform page-docs page-slim">
    <div class="white-box">
      <div class="row">
        <div class="col-xs-12 text-center">
          <h1 class="page-title">{{_ 'Documentstore'}}</h1>
        </div>
      </div>
      <!-- some instruction for the users -->
      <div class="row margined-row">
        <div class="col-xs-12 text-center">
          {{_ 'documentStoreSubtitle'}}
        </div>
      </div>

      {{#if storeHasDocuments }}

        {{#each shareddocs}}
        <div class="row list-item border-bottom">
          {{#if uploading}}
          <div class="col-xs-10">
            <span>{{completed}}%</span>
            <img src="/images/spinner.gif" style="{ width: 1em; height: 1em; }">
            <span>{{name}}</span>
          </div>
          {{else}}
          <div class="col-xs-10 item-data">
            <a target="_blank" href="{{url}}" title="{{name}}">
              <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
              {{name}}
            </a>
            <i class="small-size file-date">{{ uploadDate }}</i>
          </div>
          {{#if userHasPermission "shareddocs.upload"}}
          <div class="col-xs-2 text-right">
            <a class="js-delete nav-item">
              <span class="icon-trash" title={{_ 'delete'}}></span>
            </a>
          </div>
          {{/if}}
          {{/if}}
        </div>
        {{/each}}

      {{else}} <!-- empty state -->
        <div class="row">
          <div class="col-xs-12 upload-row margined-row text-center border-bottom">
            <i>{{_ 'documentStorePlaceholder'}}</i>
          </div>
        </div>
      {{/if}}

      {{#if userHasPermission "shareddocs.upload"}}
      <div class="row upload-row">
        <div class="col-xs-12 text-center">
          <button type="button" class="btn btn-primary" name="upload"> + {{_ 'upload'}}</button>
        </div>
      </div>
      {{else}}
      <div class="row">
        <div class="col-xs-12 text-center">
          <button disabled type="button" class="btn btn-primary" name="upload" title="{{_ 'NoPermissionToUpload'}}"> + {{_ 'upload'}}</button>
        </div>
      </div>
      <!--div class="row">
        <div class="col-xs-12 text-center">
          <i class="small-size">Önnek nincs jogosultsaga dokumentumok feltöltésére, kérje a közösképviselő segítségét.</i>
        </div>
      </div-->
      {{/if}}

    </div>
  </div>
</template>
